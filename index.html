<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buddhist Teachings</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
        }
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px 20px;
            box-shadow: 2px 0 20px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        .sidebar h2 {
            color: #2a5298;
            margin-bottom: 20px;
            font-size: 1.5em;
            text-align: center;
        }
        .sidebar .emoji {
            font-size: 2em;
            text-align: center;
            margin-bottom: 20px;
        }
        .category-list {
            list-style: none;
            flex: 1;
        }
        .category-item {
            margin-bottom: 10px;
        }
        .category-link {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            color: #333;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s;
            background: white;
        }
        .category-link:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateX(5px);
        }
        .category-icon {
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        /* Êó•ÂéÜÊ†∑Âºè */
        .calendar-widget {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        .calendar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #2a5298;
            font-weight: bold;
        }
        .calendar-nav {
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s;
            user-select: none;
        }
        .calendar-nav:hover {
            background: #f0f0f0;
        }
        .calendar-title {
            font-size: 1em;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        .calendar-day-name {
            text-align: center;
            font-size: 0.75em;
            color: #888;
            padding: 5px 0;
            font-weight: bold;
        }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85em;
            border-radius: 5px;
            color: #666;
            position: relative;
        }
        .calendar-day.other-month {
            color: #ccc;
        }
        .calendar-day.today {
            background: #e3f2fd;
            font-weight: bold;
            color: #2a5298;
        }
        .calendar-day.has-article {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calendar-day.has-article:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.5);
        }
        .calendar-day.has-article::after {
            content: 'üìù';
            position: absolute;
            bottom: 2px;
            right: 2px;
            font-size: 0.6em;
        }

        .content-area {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        .section-title {
            color: white;
            font-size: 2em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .post-list {
            list-style: none;
        }
        .post-item {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .post-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        .post-title {
            color: #2a5298;
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        .post-link {
            color: #2a5298;
            text-decoration: none;
        }
        .post-link:hover {
            text-decoration: underline;
        }
        .post-meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        .post-description {
            color: #333;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="emoji">üôè</div>
            <h2>üôè Categories</h2>
            <ul class="category-list">
                <li class="category-item">
                    <a href="#" class="category-link">
                        <span class="category-icon">üìø</span>
                        <span>Meditation</span>
                    </a>
                </li>
                <li class="category-item">
                    <a href="#" class="category-link">
                        <span class="category-icon">üßò</span>
                        <span>Mindfulness</span>
                    </a>
                </li>
                <li class="category-item">
                    <a href="#" class="category-link">
                        <span class="category-icon">üìñ</span>
                        <span>Sutras</span>
                    </a>
                </li>
                <li class="category-item">
                    <a href="#" class="category-link">
                        <span class="category-icon">‚ò∏Ô∏è</span>
                        <span>Dharma Wheel</span>
                    </a>
                </li>
                <li class="category-item">
                    <a href="#" class="category-link">
                        <span class="category-icon">üå∏</span>
                        <span>Wisdom</span>
                    </a>
                </li>
            </ul>
            
            <!-- Êó•ÂéÜÁªÑ‰ª∂ -->
            <div class="calendar-widget">
                <div class="calendar-header">
                    <span class="calendar-nav" id="prevMonth">‚óÄ</span>
                    <span class="calendar-title" id="calendarTitle"></span>
                    <span class="calendar-nav" id="nextMonth">‚ñ∂</span>
                </div>
                <div class="calendar-grid" id="calendarGrid"></div>
            </div>
        </aside>

        <main class="content-area">
            <header class="header">
                <h1>Buddhist Teachings</h1>
                <p>Journey to Inner Peace and Wisdom</p>
            </header>

            <h2 class="section-title">Latest Teachings</h2>
            <ul class="post-list" id="postList"></ul>
        </main>
    </div>

    <script>
        const articlesData = [
            {
                title: 'üïâÔ∏è The Unity of Mahayana and Hinayana',
                url: '/articles/mahayana-hinayana-unity.html',
                date: '2025-01-15',
                description: 'Exploring the historical unity and harmonious essence beyond sectarian divisions‚Äîunderstanding why Buddhism originated as one tradition.'
            },
            {
                title: 'The Path of Mindfulness',
                url: '/articles/mindfulness.html',
                date: '2025-01-10',
                description: 'Discover the transformative power of mindfulness meditation in daily life.'
            },
            {
                title: 'Understanding the Four Noble Truths',
                url: '/articles/four-noble-truths.html',
                date: '2025-01-08',
                description: 'An exploration of the fundamental teachings of Buddhism.'
            },
            {
                title: 'Compassion in Action',
                url: '/articles/compassion.html',
                date: '2025-01-05',
                description: 'How to cultivate and practice loving-kindness in everyday situations.'
            }
        ];

        // Ê∏≤ÊüìÊñáÁ´†ÂàóË°®
        function renderPosts() {
            const postList = document.getElementById('postList');
            const sortedArticles = [...articlesData].sort((a, b) => {
                return new Date(b.date) - new Date(a.date);
            });
            
            postList.innerHTML = sortedArticles.map(article => `
                <li class="post-item">
                    <h3 class="post-title">
                        <a href="${article.url}" class="post-link">${article.title}</a>
                    </h3>
                    <div class="post-meta">üìÖ ${article.date}</div>
                    <p class="post-description">${article.description}</p>
                </li>
            `).join('');
        }
        
        // ÂàõÂª∫Êó•ÊúüÂà∞ÊñáÁ´†ÁöÑÊò†Â∞Ñ
        function createDateMap() {
            const map = {};
            articlesData.forEach(article => {
                map[article.date] = article.url;
            });
            return map;
        }

        // Êó•ÂéÜÂäüËÉΩ
        let currentDate = new Date();
        const dateMap = createDateMap();

        function renderCalendar(year, month) {
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const prevLastDay = new Date(year, month, 0);
            const firstDayOfWeek = firstDay.getDay();
            const daysInMonth = lastDay.getDate();
            const daysInPrevMonth = prevLastDay.getDate();

            const calendarTitle = document.getElementById('calendarTitle');
            const calendarGrid = document.getElementById('calendarGrid');

            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            calendarTitle.textContent = `${monthNames[month]} ${year}`;

            let html = '';

            const dayNames = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];
            dayNames.forEach(day => {
                html += `<div class="calendar-day-name">${day}</div>`;
            });

            // ‰∏ä‰∏™ÊúàÁöÑÊó•Êúü
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {
                const day = daysInPrevMonth - i;
                html += `<div class="calendar-day other-month">${day}</div>`;
            }

            // ÂΩìÂâçÊúàÁöÑÊó•Êúü
            const today = new Date();
            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const isToday = day === today.getDate() && month === today.getMonth() && year === today.getFullYear();
                const hasArticle = dateMap[dateStr];
                
                let classes = 'calendar-day';
                if (isToday) classes += ' today';
                if (hasArticle) classes += ' has-article';
                
                const onClick = hasArticle ? `onclick="window.location.href='${hasArticle}'"` : '';
                
                html += `<div class="${classes}" ${onClick}>${day}</div>`;
            }

            // ‰∏ã‰∏™ÊúàÁöÑÊó•Êúü
            const remainingDays = 42 - (firstDayOfWeek + daysInMonth);
            for (let day = 1; day <= remainingDays; day++) {
                html += `<div class="calendar-day other-month">${day}</div>`;
            }

            calendarGrid.innerHTML = html;
        }

        // Êó•ÂéÜÂØºËà™
        document.getElementById('prevMonth').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar(currentDate.getFullYear(), currentDate.getMonth());
        });

        document.getElementById('nextMonth').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar(currentDate.getFullYear(), currentDate.getMonth());
        });

        // ÂàùÂßãÂåñ
        renderPosts();
        renderCalendar(currentDate.getFullYear(), currentDate.getMonth());
    </script>
</body>
</html>
